<?xml version="1.0"?>
<project name="helloworld" default="deploy" basedir=".">

  <property file="build.properties" />
  
  <target name="deploy" description="Deploy" depends="-set-jboss-dir">
    <echo>Copying WAR file ...</echo>
    <copy todir="${jboss.dir}/server/default/deploy">
      <fileset file="${basedir}/target/helloworld.war" />
    </copy>
  </target>

  <!--
    If the 'jboss.dir' property does not exist - if it has not already
    been set within a local properties file, as per above - attempt to
    obtain the value of this property from an environment variable.
  -->
  <target name="-set-jboss-dir" description="Set JBoss home directory" unless="${jboss.dir}">
    <!-- Set the prefix through which to access environment variables -->
    <property environment="env"/>	
    <property name="jboss.dir" value="${env.JBOSS_HOME}"/>
	</target>

</project>
